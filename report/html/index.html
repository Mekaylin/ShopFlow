<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Copy/Paste Detector Report</title><link href="styles/tailwind.css" rel="stylesheet"><link href="styles/prism.css" rel="stylesheet"></head><body class="bg-gray-100"><header class="bg-white shadow py-4"><div class="container mx-auto px-4"><h1 class="text-3xl font-semibold text-gray-800">jscpd - copy/paste report</h1></div></header><main class="container mx-auto my-8 p-4 bg-white shadow rounded"><section class="mb-8" id="dashboard"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Dashboard</h2><div class="grid grid-cols-4 gap-4"><div class="bg-blue-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-blue-800 mb-2">Total Files</h3><span class="text-4xl font-bold text-blue-800">96</span></div><div class="bg-green-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-green-800 mb-2">Total Lines of Code</h3><span class="text-4xl font-bold text-green-800">11072</span></div><div class="bg-yellow-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-yellow-800 mb-2">Number of Clones</h3><span class="text-4xl font-bold text-yellow-800">126</span></div><div class="bg-red-200 p-4 rounded text-center"><h3 class="text-lg font-semibold text-red-800 mb-2">Duplicated Lines</h3><span class="text-4xl font-bold text-red-800">1141 (10.31%)</span></div></div></section><section class="mb-8" id="formats"><h2 class="text-2xl font-semibold text-gray-700 mb-4">Formats with Duplications</h2><table class="w-full table-auto"><thead><tr class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal"><th class="py-3 px-6 text-left">Format</th><th class="py-3 px-6 text-left">Files</th><th class="py-3 px-6 text-left">Lines</th><th class="py-3 px-6 text-left">Clones</th><th class="py-3 px-6 text-left">Duplicated Lines</th><th class="py-3 px-6 text-left">Duplicated Tokens</th></tr></thead><tbody><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#css-clones">css</a></td><td class="py-3 px-6">2</td><td class="py-3 px-6">33</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#javascript-clones">javascript</a></td><td class="py-3 px-6">40</td><td class="py-3 px-6">2966</td><td class="py-3 px-6">53</td><td class="py-3 px-6">447</td><td class="py-3 px-6">5279</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#typescript-clones">typescript</a></td><td class="py-3 px-6">7</td><td class="py-3 px-6">1520</td><td class="py-3 px-6">6</td><td class="py-3 px-6">38</td><td class="py-3 px-6">234</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#tsx-clones">tsx</a></td><td class="py-3 px-6">35</td><td class="py-3 px-6">4774</td><td class="py-3 px-6">45</td><td class="py-3 px-6">360</td><td class="py-3 px-6">4187</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#json-clones">json</a></td><td class="py-3 px-6">6</td><td class="py-3 px-6">172</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#sql-clones">sql</a></td><td class="py-3 px-6">4</td><td class="py-3 px-6">1201</td><td class="py-3 px-6">22</td><td class="py-3 px-6">296</td><td class="py-3 px-6">2625</td></tr><tr class="bg-white border-b border-gray-200 text-gray-800 text-sm"><td class="py-3 px-6"><a class="text-blue-600 hover:underline" href="#markdown-clones">markdown</a></td><td class="py-3 px-6">2</td><td class="py-3 px-6">406</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td><td class="py-3 px-6">0</td></tr></tbody></table></section><section class="mb-8" id="txt-clones"><a name="css-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">css</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="javascript-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">javascript</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 147:12 - Line 153:16), components/admin/TasksTab.tsx (Line 134:13 - Line 140:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn6" onclick="toggleCodeBlock('cloneGroup6', 'expandBtn6', 'collapseBtn6')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup6"><code class="language-javascript text-sm text-gray-800">: 6 }]}&gt;
          &lt;Text style={adminStyles.dropdownLabel}&gt;Deadline&lt;/Text&gt;
          &lt;TouchableOpacity
            style={[adminStyles.dropdown, { width: '100%' }]}
            onPress={() =&gt; {
              const times = ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00'];
              const idx = times.indexOf(newTaskDeadline</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 154:19 - Line 163:2), components/admin/TasksTab.tsx (Line 141:16 - Line 147:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn7" onclick="toggleCodeBlock('cloneGroup7', 'expandBtn7', 'collapseBtn7')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup7"><code class="language-javascript text-sm text-gray-800">(times[(idx + 1) % times.length]);
            }}
          &gt;
            &lt;Text style={adminStyles.dropdownText}&gt;{newTaskDeadline || 'Select'}&lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
        &lt;/View&gt;
      &lt;/View&gt;
      
      {/* Material selection UI */}
      &lt;View style={{</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 183:10 - Line 196:5), components/admin/TasksTab.tsx (Line 164:2 - Line 171:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn8" onclick="toggleCodeBlock('cloneGroup8', 'expandBtn8', 'collapseBtn8')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup8"><code class="language-javascript text-sm text-gray-800"> }}&gt;{mat.name}&lt;/Text&gt;
                &lt;/TouchableOpacity&gt;
              ))}
            &lt;/ScrollView&gt;
          &lt;/View&gt;
        &lt;/View&gt;
        {selectedMaterialForTask &amp;&amp; (
          &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 6 }}&gt;
            &lt;Text style={{ marginRight: 6 }}&gt;Type:&lt;/Text&gt;
            &lt;View style={{ flex: 1 }}&gt;
              &lt;ScrollView horizontal showsHorizontalScrollIndicator={false}&gt;
                {(materialTypes[selectedMaterialForTask] || []).map(type =&gt; (
                  &lt;TouchableOpacity
                    key={type</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 205:5 - Line 215:2), components/admin/TasksTab.tsx (Line 183:5 - Line 167:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn9" onclick="toggleCodeBlock('cloneGroup9', 'expandBtn9', 'collapseBtn9')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup9"><code class="language-javascript text-sm text-gray-800">.id ? '#fff' : '#1976d2' }}&gt;{type.label}&lt;/Text&gt;
                  &lt;/TouchableOpacity&gt;
                ))}
              &lt;/ScrollView&gt;
            &lt;/View&gt;
          &lt;/View&gt;
        )}
        &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 6 }}&gt;
          &lt;Text style={{ marginRight: 6 }}&gt;Quantity:&lt;/Text&gt;
          &lt;TextInput
            style={[</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 320:17 - Line 330:26), components/admin/TasksTab.tsx (Line 316:19 - Line 320:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn10" onclick="toggleCodeBlock('cloneGroup10', 'expandBtn10', 'collapseBtn10')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup10"><code class="language-javascript text-sm text-gray-800">(item.id)}&gt;
              &lt;Text style={{ color: '#fff', fontWeight: 'bold' }}&gt;Delete&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      );
    } else {
      // Employee
      return (
        &lt;TouchableOpacity style={{
          backgroundColor</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 413:19 - Line 425:42), components/admin/TasksTab.tsx (Line 157:13 - Line 173:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn11" onclick="toggleCodeBlock('cloneGroup11', 'expandBtn11', 'collapseBtn11')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup11"><code class="language-javascript text-sm text-gray-800">} /&gt;
            {/* Materials selection (reuse existing logic) */}
            &lt;View style={{ marginTop: 12, marginBottom: 12, backgroundColor: '#f5faff', borderRadius: 10, padding: 10 }}&gt;
              &lt;Text style={{ fontWeight: 'bold', color: '#1976d2', marginBottom: 4 }}&gt;Add Materials Used&lt;/Text&gt;
              &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 6 }}&gt;
                &lt;Text style={{ marginRight: 6 }}&gt;Material:&lt;/Text&gt;
                &lt;View style={{ flex: 1 }}&gt;
                  &lt;ScrollView horizontal showsHorizontalScrollIndicator={false}&gt;
                    {materials.map(mat =&gt; (
                      &lt;TouchableOpacity
                        key={mat.id}
                        style={{
                          backgroundColor</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 433:25 - Line 450:44), components/admin/TasksTab.tsx (Line 181:19 - Line 198:38)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn12" onclick="toggleCodeBlock('cloneGroup12', 'expandBtn12', 'collapseBtn12')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup12"><code class="language-javascript text-sm text-gray-800">}}
                      &gt;
                        &lt;Text style={{ color: selectedMaterialForTask === mat.id ? '#fff' : '#1976d2' }}&gt;{mat.name}&lt;/Text&gt;
                      &lt;/TouchableOpacity&gt;
                    ))}
                  &lt;/ScrollView&gt;
                &lt;/View&gt;
              &lt;/View&gt;
              {selectedMaterialForTask &amp;&amp; (
                &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 6 }}&gt;
                  &lt;Text style={{ marginRight: 6 }}&gt;Type:&lt;/Text&gt;
                  &lt;View style={{ flex: 1 }}&gt;
                    &lt;ScrollView horizontal showsHorizontalScrollIndicator={false}&gt;
                      {(materialTypes[selectedMaterialForTask] || []).map(type =&gt; (
                        &lt;TouchableOpacity
                          key={type.id}
                          style={{
                            backgroundColor</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 454:27 - Line 473:12), components/admin/TasksTab.tsx (Line 202:21 - Line 221:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn13" onclick="toggleCodeBlock('cloneGroup13', 'expandBtn13', 'collapseBtn13')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup13"><code class="language-javascript text-sm text-gray-800">}}
                          onPress={() =&gt; setSelectedMaterialTypeForTask(type.id)}
                        &gt;
                          &lt;Text style={{ color: selectedMaterialTypeForTask === type.id ? '#fff' : '#1976d2' }}&gt;{type.label}&lt;/Text&gt;
                        &lt;/TouchableOpacity&gt;
                      ))}
                    &lt;/ScrollView&gt;
                  &lt;/View&gt;
                &lt;/View&gt;
              )}
              &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 6 }}&gt;
                &lt;Text style={{ marginRight: 6 }}&gt;Quantity:&lt;/Text&gt;
                &lt;TextInput
                  style={[adminStyles.input, { flex: 1 }]}
                  placeholder=&quot;Quantity&quot;
                  value={materialQuantityForTask}
                  onChangeText={setMaterialQuantityForTask}
                  keyboardType=&quot;numeric&quot;
                /&gt;
                &lt;TouchableOpacity style={adminStyles</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/SettingsModal.tsx (Line 150:14 - Line 159:14), components/admin/SettingsModal.tsx (Line 136:14 - Line 142:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn23" onclick="toggleCodeBlock('cloneGroup23', 'expandBtn23', 'collapseBtn23')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup23"><code class="language-javascript text-sm text-gray-800">}
                  placeholder=&quot;17:00&quot;
                /&gt;
              &lt;/View&gt;
              
              &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 8 }}&gt;
                &lt;Text style={adminStyles.timeLabel}&gt;Lunch Start:&lt;/Text&gt;
                &lt;TextInput
                  style={adminStyles.timeInput}
                  value={newLunchStart</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/SettingsModal.tsx (Line 172:20 - Line 183:2), components/admin/SettingsModal.tsx (Line 127:24 - Line 139:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn24" onclick="toggleCodeBlock('cloneGroup24', 'expandBtn24', 'collapseBtn24')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup24"><code class="language-javascript text-sm text-gray-800">}&gt;
                &lt;Text style={adminStyles.addBtnText}&gt;Save Hours&lt;/Text&gt;
              &lt;/TouchableOpacity&gt;
            &lt;/View&gt;

            {/* Business Code Management (Admin Only) */}
            {user?.role === 'admin' &amp;&amp; (
              &lt;View style={adminStyles.settingsCard}&gt;
                &lt;Text style={adminStyles.settingsTitle}&gt;Business Code&lt;/Text&gt;
                
                &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 8 }}&gt;
                  &lt;TouchableOpacity style={[</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 100:7 - Line 111:39), components/admin/PerformanceTab.tsx (Line 82:2 - Line 91:36)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn25" onclick="toggleCodeBlock('cloneGroup25', 'expandBtn25', 'collapseBtn25')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup25"><code class="language-javascript text-sm text-gray-800"> }}&gt;
                Enable Task Rating System
              &lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
          
          &lt;View style={{ marginBottom: 12 }}&gt;
            &lt;TouchableOpacity
              style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 8 }}
              onPress={() =&gt; updatePerformanceSettings({
                ...performanceSettings,
                autoRateCompletedTasks</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 117:24 - Line 127:10), components/admin/PerformanceTab.tsx (Line 97:21 - Line 108:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn26" onclick="toggleCodeBlock('cloneGroup26', 'expandBtn26', 'collapseBtn26')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup26"><code class="language-javascript text-sm text-gray-800">? '#4CAF50' : '#ccc'}
                style={{ marginRight: 12 }}
              /&gt;
              &lt;Text style={{ fontSize: 14, color: '#333' }}&gt;
                Auto-rate Completed Tasks
              &lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
          
          &lt;View style={{ marginBottom: 12 }}&gt;
            &lt;Text style={{ fontSize</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 120:2 - Line 133:7), components/admin/SettingsModal.tsx (Line 113:14 - Line 121:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn27" onclick="toggleCodeBlock('cloneGroup27', 'expandBtn27', 'collapseBtn27')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup27"><code class="language-javascript text-sm text-gray-800">}&gt;
                Auto-rate Completed Tasks
              &lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
          
          &lt;View style={{ marginBottom: 12 }}&gt;
            &lt;Text style={{ fontSize: 14, color: '#666', marginBottom: 8 }}&gt;
              Default Rating for Auto-rated Tasks:
            &lt;/Text&gt;
            &lt;View style={{ flexDirection: 'row', alignItems: 'center' }}&gt;
              {[1, 2, 3, 4, 5].map((rating) =&gt; (
                &lt;TouchableOpacity
                  key={rating</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 176:10 - Line 181:25), components/admin/PerformanceTab.tsx (Line 158:10 - Line 163:26)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn28" onclick="toggleCodeBlock('cloneGroup28', 'expandBtn28', 'collapseBtn28')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup28"><code class="language-javascript text-sm text-gray-800">,
              borderRadius: 8,
              paddingVertical: 12,
              paddingHorizontal: 20,
              flex: 1,
              marginLeft</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 184:28 - Line 193:17), components/admin/PerformanceTab.tsx (Line 168:2 - Line 176:30)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn29" onclick="toggleCodeBlock('cloneGroup29', 'expandBtn29', 'collapseBtn29')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup29"><code class="language-javascript text-sm text-gray-800">}
          &gt;
            &lt;FontAwesome5 name=&quot;sync-alt&quot; size={16} color=&quot;#fff&quot; style={{ marginRight: 8 }} /&gt;
            &lt;Text style={{ color: '#fff', fontWeight: '600' }}&gt;Recalculate&lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
        &lt;/View&gt;
      &lt;/View&gt;

      {/* Quick Stats */}
      &lt;View style={{ backgroundColor</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 187:6 - Line 193:2), components/admin/PerformanceTab.tsx (Line 73:3 - Line 75:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn30" onclick="toggleCodeBlock('cloneGroup30', 'expandBtn30', 'collapseBtn30')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup30"><code class="language-javascript text-sm text-gray-800"> }}&gt;Recalculate&lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
        &lt;/View&gt;
      &lt;/View&gt;

      {/* Quick Stats */}
      &lt;View style={{ backgroundColor: '#fff', borderRadius: 16, padding: 20 </code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 193:3 - Line 198:15), components/admin/PerformanceTab.tsx (Line 75:3 - Line 81:14)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn31" onclick="toggleCodeBlock('cloneGroup31', 'expandBtn31', 'collapseBtn31')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup31"><code class="language-javascript text-sm text-gray-800"> }}&gt;
        &lt;Text style={{ fontSize: 18, fontWeight: 'bold', color: '#333', marginBottom: 16 }}&gt;
          Quick Stats
        &lt;/Text&gt;
        
        &lt;View style={{ flexDirection</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 204:7 - Line 209:10), components/admin/PerformanceTab.tsx (Line 198:15 - Line 201:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn32" onclick="toggleCodeBlock('cloneGroup32', 'expandBtn32', 'collapseBtn32')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup32"><code class="language-javascript text-sm text-gray-800"> }}&gt;Completed&lt;/Text&gt;
          &lt;/View&gt;
          
          &lt;View style={{ alignItems: 'center' }}&gt;
            &lt;FontAwesome5 name=&quot;star&quot; size={24} color=&quot;#FFD700&quot; /&gt;
            &lt;Text style={{ fontSize: 20, fontWeight: 'bold', color: '#FFD700'</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 209:10 - Line 217:10), components/admin/PerformanceTab.tsx (Line 201:10 - Line 201:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn33" onclick="toggleCodeBlock('cloneGroup33', 'expandBtn33', 'collapseBtn33')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup33"><code class="language-javascript text-sm text-gray-800">, marginTop: 4 }}&gt;
              {tasks.filter(t =&gt; t.completed).length}
            &lt;/Text&gt;
            &lt;Text style={{ fontSize: 12, color: '#666' }}&gt;Rated&lt;/Text&gt;
          &lt;/View&gt;
          
          &lt;View style={{ alignItems: 'center' }}&gt;
            &lt;FontAwesome5 name=&quot;users&quot; size={24} color=&quot;#4CAF50&quot; /&gt;
            &lt;Text style={{ fontSize: 20, fontWeight: 'bold', color: '#4CAF50'</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/MaterialsTab.tsx (Line 159:10 - Line 166:2), components/admin/SettingsModal.tsx (Line 116:2 - Line 121:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn35" onclick="toggleCodeBlock('cloneGroup35', 'expandBtn35', 'collapseBtn35')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup35"><code class="language-javascript text-sm text-gray-800"> }}&gt;{type.label}&lt;/Text&gt;
                    &lt;/View&gt;
                  ))}
                &lt;/View&gt;
              )}
            &lt;/View&gt;
            &lt;View style={{ flexDirection: 'row', alignItems: 'center' }}&gt;
              &lt;TouchableOpacity onPress={(</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 113:25 - Line 118:4), components/admin/HomeTab.tsx (Line 79:21 - Line 84:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn41" onclick="toggleCodeBlock('cloneGroup41', 'expandBtn41', 'collapseBtn41')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup41"><code class="language-javascript text-sm text-gray-800">(true)}
        style={{ backgroundColor: '#fff', borderRadius: 16, padding: 18, marginBottom: 8, shadowColor: '#1976d2', shadowOpacity: 0.08, shadowRadius: 8, elevation: 2 }}
      &gt;
        &lt;Text style={{ fontWeight: 'bold', fontSize: 18, color: '#1976d2', marginBottom: 6 }}&gt;Materials Used&lt;/Text&gt;
        {limitLines(materialsUsed, 10).map((mat, idx) =&gt; (
          &lt;Text key={mat</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 118:7 - Line 128:2), components/admin/HomeTab.tsx (Line 84:2 - Line 95:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn42" onclick="toggleCodeBlock('cloneGroup42', 'expandBtn42', 'collapseBtn42')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup42"><code class="language-javascript text-sm text-gray-800">: '#263238', fontSize: 15 }} numberOfLines={1} ellipsizeMode=&quot;tail&quot;&gt;
            {idx + 1}. {mat}
          &lt;/Text&gt;
        ))}
        {materialsUsed.length &gt; 10 &amp;&amp; (
          &lt;Text style={{ color: '#1976d2', fontWeight: 'bold', marginTop: 4 }}&gt;+{materialsUsed.length - 10} more...&lt;/Text&gt;
        )}
      &lt;/TouchableOpacity&gt;

      {/* Best Performers Card */}
      &lt;View style={{</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 123:2 - Line 131:4), components/admin/HomeTab.tsx (Line 79:2 - Line 84:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn43" onclick="toggleCodeBlock('cloneGroup43', 'expandBtn43', 'collapseBtn43')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup43"><code class="language-javascript text-sm text-gray-800">}&gt;+{materialsUsed.length - 10} more...&lt;/Text&gt;
        )}
      &lt;/TouchableOpacity&gt;

      {/* Best Performers Card */}
      &lt;View style={{ backgroundColor: '#fff', borderRadius: 16, padding: 18, marginBottom: 8, shadowColor: '#1976d2', shadowOpacity: 0.08, shadowRadius: 8, elevation: 2 }}&gt;
        &lt;Text style={{ fontWeight: 'bold', fontSize: 18, color: '#1976d2', marginBottom: 6 }}&gt;Best Performers&lt;/Text&gt;
        {bestPerformers.slice(0, 5).map((emp, idx) =&gt; (
          &lt;Text key={emp</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 131:3 - Line 136:7), components/admin/HomeTab.tsx (Line 118:4 - Line 89:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn44" onclick="toggleCodeBlock('cloneGroup44', 'expandBtn44', 'collapseBtn44')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup44"><code class="language-javascript text-sm text-gray-800">} style={{ color: '#263238', fontSize: 15 }} numberOfLines={1} ellipsizeMode=&quot;tail&quot;&gt;
            {idx + 1}. {emp.name} ({emp.performanceScore} tasks)
          &lt;/Text&gt;
        ))}
        {bestPerformers.length === 0 &amp;&amp; (
          &lt;Text style={{ color: '#888'</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 150:9 - Line 157:18), components/admin/PerformanceTab.tsx (Line 168:2 - Line 175:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn45" onclick="toggleCodeBlock('cloneGroup45', 'expandBtn45', 'collapseBtn45')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup45"><code class="language-javascript text-sm text-gray-800">}
      &gt;
        &lt;FontAwesome5 name=&quot;download&quot; size={16} color=&quot;#fff&quot; style={{ marginRight: 8 }} /&gt;
        &lt;Text style={{ color: '#fff', fontWeight: '600' }}&gt;Export Data&lt;/Text&gt;
      &lt;/TouchableOpacity&gt;

      {/* All Tasks Modal */}
      &lt;Modal visible={showAllTasksModal</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 182:10 - Line 187:24), components/admin/HomeTab.tsx (Line 163:10 - Line 168:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn46" onclick="toggleCodeBlock('cloneGroup46', 'expandBtn46', 'collapseBtn46')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup46"><code class="language-javascript text-sm text-gray-800">, fontSize: 15, marginBottom: 4 }}&gt;
                  {idx + 1}. {name}
                &lt;/Text&gt;
              ))}
            &lt;/ScrollView&gt;
            &lt;TouchableOpacity style={styles.closeBtn} onPress={() =&gt; setShowAllLateEmpsModal</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 195:25 - Line 201:4), components/admin/HomeTab.tsx (Line 157:21 - Line 163:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn47" onclick="toggleCodeBlock('cloneGroup47', 'expandBtn47', 'collapseBtn47')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup47"><code class="language-javascript text-sm text-gray-800">(false)}&gt;
        &lt;View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.3)', justifyContent: 'center', alignItems: 'center' }}&gt;
          &lt;View style={{ backgroundColor: '#fff', borderRadius: 14, padding: 24, width: '90%', maxHeight: '80%' }}&gt;
            &lt;Text style={{ fontSize: 18, fontWeight: 'bold', color: '#1976d2', marginBottom: 12 }}&gt;All Materials Used&lt;/Text&gt;
            &lt;ScrollView&gt;
              {materialsUsed.map((mat, idx) =&gt; (
                &lt;Text key={mat</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 201:7 - Line 206:25), components/admin/HomeTab.tsx (Line 163:2 - Line 168:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn48" onclick="toggleCodeBlock('cloneGroup48', 'expandBtn48', 'collapseBtn48')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup48"><code class="language-javascript text-sm text-gray-800">: '#263238', fontSize: 15, marginBottom: 4 }}&gt;
                  {idx + 1}. {mat}
                &lt;/Text&gt;
              ))}
            &lt;/ScrollView&gt;
            &lt;TouchableOpacity style={styles.closeBtn} onPress={() =&gt; setShowAllMaterialsModal</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/EmployeesTab.tsx (Line 238:19 - Line 257:8), components/admin/EmployeesTab.tsx (Line 199:2 - Line 221:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn53" onclick="toggleCodeBlock('cloneGroup53', 'expandBtn53', 'collapseBtn53')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup53"><code class="language-javascript text-sm text-gray-800">} /&gt;
        &lt;/View&gt;
        &lt;View style={adminStyles.addEmployeeInputsRow}&gt;
          &lt;TextInput style={adminStyles.input} placeholder=&quot;Lunch Start&quot; value={newEmployeeLunchStart} onChangeText={setNewEmployeeLunchStart} /&gt;
          &lt;TextInput style={adminStyles.input} placeholder=&quot;Lunch End&quot; value={newEmployeeLunchEnd} onChangeText={setNewEmployeeLunchEnd} /&gt;
        &lt;/View&gt;
        &lt;View style={adminStyles.addEmployeeInputsRow}&gt;
          &lt;TextInput style={adminStyles.input} placeholder=&quot;Department&quot; value={newEmployeeDepartment} onChangeText={setNewEmployeeDepartment} /&gt;
        &lt;/View&gt;
        &lt;TouchableOpacity style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 8 }} onPress={pickEmployeePhoto}&gt;
          {newEmployeePhotoUri ? (
            &lt;Image source={{ uri: newEmployeePhotoUri }} style={{ width: 40, height: 40, borderRadius: 20, marginRight: 8 }} /&gt;
          ) : (
            &lt;View style={{ width: 40, height: 40, borderRadius: 20, backgroundColor: '#e3f2fd', marginRight: 8, alignItems: 'center', justifyContent: 'center' }}&gt;
              &lt;FontAwesome5 name=&quot;camera&quot; size={20} color=&quot;#1976d2&quot; /&gt;
            &lt;/View&gt;
          )}
          &lt;Text style={{ color: '#1976d2', fontWeight: 'bold' }}&gt;{newEmployeePhotoUri ? 'Change Photo' : 'Add Photo'}&lt;/Text&gt;
        &lt;/TouchableOpacity&gt;
        &lt;TouchableOpacity style={adminStyles.saveBtn</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/ClockEventsTab.tsx (Line 37:3 - Line 43:2), components/admin/SettingsModal.tsx (Line 107:6 - Line 110:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn60" onclick="toggleCodeBlock('cloneGroup60', 'expandBtn60', 'collapseBtn60')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup60"><code class="language-javascript text-sm text-gray-800"> }}&gt;
        &lt;Text style={{ fontSize: 20, fontWeight: 'bold', color: '#1976d2', marginBottom: 16 }}&gt;
          Clock Events
        &lt;/Text&gt;
        
        {clockEvents.length === 0 ? (
          &lt;Text style={{</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 283:11 - Line 290:3), app/screens/EmployeeDashboardScreen.tsx (Line 245:9 - Line 252:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn61" onclick="toggleCodeBlock('cloneGroup61', 'expandBtn61', 'collapseBtn61')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup61"><code class="language-javascript text-sm text-gray-800">}&gt;{task.name}&lt;/Text&gt;
            &lt;Text style={styles.taskTime}&gt;Start: {task.start} | Due: {task.deadline}&lt;/Text&gt;
            &lt;Text style={styles.taskStatus}&gt;{task.completed ? 'Completed' : 'In Progress'}&lt;/Text&gt;
            {task.completed &amp;&amp; task.completedAt &amp;&amp; (
              &lt;Text style={{ color: '#888', fontSize: 13, marginBottom: 4 }}&gt;Completed at: {new Date(task.completedAt).toLocaleString()}&lt;/Text&gt;
            )}
            {!task.completed &amp;&amp; (
              &lt;View style={{ marginTop: 10</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 316:19 - Line 322:2), app/screens/EmployeeDashboardScreen.tsx (Line 313:20 - Line 316:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn62" onclick="toggleCodeBlock('cloneGroup62', 'expandBtn62', 'collapseBtn62')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup62"><code class="language-javascript text-sm text-gray-800">(task.id)}&gt;
                  &lt;Text style={{ color: '#fff', fontWeight: 'bold', fontSize: 16 }}&gt;Mark Complete&lt;/Text&gt;
                &lt;/TouchableOpacity&gt;
              &lt;/View&gt;
            )}
            {task.completed &amp;&amp; task.materialsUsed &amp;&amp; task.materialsUsed.length &gt; 0 &amp;&amp; (
              &lt;View style={{</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 317:3 - Line 333:2), app/screens/EmployeeDashboardScreen.tsx (Line 249:2 - Line 276:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn63" onclick="toggleCodeBlock('cloneGroup63', 'expandBtn63', 'collapseBtn63')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup63"><code class="language-javascript text-sm text-gray-800"> }}&gt;Mark Complete&lt;/Text&gt;
                &lt;/TouchableOpacity&gt;
              &lt;/View&gt;
            )}
            {task.completed &amp;&amp; task.materialsUsed &amp;&amp; task.materialsUsed.length &gt; 0 &amp;&amp; (
              &lt;View style={{ marginTop: 8 }}&gt;
                &lt;Text style={{ fontWeight: 'bold', marginBottom: 2 }}&gt;Materials Used:&lt;/Text&gt;
                {task.materialsUsed.map(mu =&gt; {
                  const mat = materials.find(m =&gt; m.id === mu.materialId);
                  if (!mat) return null;
                  return (
                    &lt;Text key={mat.id} style={{ fontSize: 14 }}&gt;{mat.name}: {mu.quantity} {mat.unit}&lt;/Text&gt;
                  );
                })}
              &lt;/View&gt;
            )}
            &lt;TouchableOpacity style={[</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 380:5 - Line 387:17), components/admin/TasksTab.tsx (Line 183:2 - Line 377:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn64" onclick="toggleCodeBlock('cloneGroup64', 'expandBtn64', 'collapseBtn64')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup64"><code class="language-javascript text-sm text-gray-800">: '#1976d2' }}
              /&gt;
            &lt;/View&gt;
            {biometricSupported &amp;&amp; (
              &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 18 }}&gt;
                &lt;Text style={{ fontSize: 17, color: isDark ? '#b3c0e0' : '#263238', flex: 1 }}&gt;Fingerprint Login&lt;/Text&gt;
                &lt;Switch
                  value={biometricEnabled</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 417:2 - Line 435:7), app/screens/EmployeeDashboardScreen.tsx (Line 395:21 - Line 400:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn65" onclick="toggleCodeBlock('cloneGroup65', 'expandBtn65', 'collapseBtn65')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup65"><code class="language-javascript text-sm text-gray-800">}&gt;
              &lt;Text style={{ color: '#fff', fontWeight: 'bold', textAlign: 'center' }}&gt;Close&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/Modal&gt;
      {/* Welcome Animation */}
      {showWelcome &amp;&amp; (
        &lt;Animated.View style={{
          position: 'absolute',
          top: '30%',
          left: 0,
          right: 0,
          alignItems: 'center',
          opacity: welcomeAnim,
          transform: [{ scale: welcomeAnim.interpolate({ inputRange: [0, 1], outputRange: [0.7, 1] }) }],
          zIndex: 100,
        }}&gt;
          &lt;View style={{ backgroundColor: '#fff'</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 502:11 - Line 507:2), components/admin/TasksTab.tsx (Line 390:2 - Line 397:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn66" onclick="toggleCodeBlock('cloneGroup66', 'expandBtn66', 'collapseBtn66')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup66"><code class="language-javascript text-sm text-gray-800">}&gt;All Employees&lt;/Text&gt;
            &lt;FlatList
              data={employees}
              keyExtractor={item =&gt; item.id}
              renderItem={({ item }) =&gt; (
                &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/AdminDashboardScreen.tsx (Line 179:3 - Line 186:6), components/admin/MaterialsTab.tsx (Line 152:7 - Line 152:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn76" onclick="toggleCodeBlock('cloneGroup76', 'expandBtn76', 'collapseBtn76')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup76"><code class="language-javascript text-sm text-gray-800">, color: darkMode ? '#b3c0e0' : '#1976d2', fontSize: 16 }}&gt;Loading...&lt;/Text&gt;
      &lt;/SafeAreaView&gt;
    );
  }

  // Main dashboard render
  return (
    &lt;SafeAreaView style={{ flex</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/AdminDashboardScreen.tsx (Line 179:3 - Line 186:2), app/screens/AdminDashboardScreen.tsx (Line 164:3 - Line 175:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn77" onclick="toggleCodeBlock('cloneGroup77', 'expandBtn77', 'collapseBtn77')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup77"><code class="language-javascript text-sm text-gray-800"> }}&gt;Loading...&lt;/Text&gt;
      &lt;/SafeAreaView&gt;
    );
  }

  // Main dashboard render
  return (
    &lt;SafeAreaView style={{ flex: 1, backgroundColor: darkMode ? '#181a20' : '#f5faff' </code></pre></div><div class="py-4"><p class="text-gray-600">services/cloud.js (Line 82:11 - Line 87:13), services/cloud.js (Line 63:7 - Line 68:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn81" onclick="toggleCodeBlock('cloneGroup81', 'expandBtn81', 'collapseBtn81')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup81"><code class="language-javascript text-sm text-gray-800">}`;
  if (cache.has(cacheKey)) return cache.get(cacheKey);
  
  return debouncedFetch(cacheKey, async () =&gt; {
    const { data, error } = await supabase
      .from('businesses'</code></pre></div><div class="py-4"><p class="text-gray-600">services/cloud.js (Line 122:8 - Line 127:8), services/cloud.js (Line 102:12 - Line 107:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn82" onclick="toggleCodeBlock('cloneGroup82', 'expandBtn82', 'collapseBtn82')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup82"><code class="language-javascript text-sm text-gray-800">${businessId}_${cursor || 'start'}_${limit}`;
  if (cache.has(cacheKey)) return cache.get(cacheKey);
  return debouncedFetch(cacheKey, async () =&gt; {
    return retryFetch(async () =&gt; {
      let query = supabase
        .from('tasks'</code></pre></div><div class="py-4"><p class="text-gray-600">services/cloud.js (Line 130:2 - Line 140:36), services/cloud.js (Line 110:2 - Line 120:37)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn83" onclick="toggleCodeBlock('cloneGroup83', 'expandBtn83', 'collapseBtn83')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup83"><code class="language-javascript text-sm text-gray-800">})
        .limit(limit);
      if (cursor) query = query.gt('id', cursor);
      const { data, error } = await query;
      if (error) throw error;
      return data || [];
    });
  });
};

// Fetch employee task summary view</code></pre></div><div class="py-4"><p class="text-gray-600">services/cloud.js (Line 149:2 - Line 156:7), services/cloud.js (Line 113:6 - Line 120:37)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn84" onclick="toggleCodeBlock('cloneGroup84', 'expandBtn84', 'collapseBtn84')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup84"><code class="language-javascript text-sm text-gray-800">;
      if (error) throw error;
      return data || [];
    });
  });
};

export</code></pre></div><div class="py-4"><p class="text-gray-600">services/cloud.js (Line 157:12 - Line 162:12), services/cloud.js (Line 82:11 - Line 68:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn85" onclick="toggleCodeBlock('cloneGroup85', 'expandBtn85', 'collapseBtn85')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup85"><code class="language-javascript text-sm text-gray-800">${businessId}`;
  if (cache.has(cacheKey)) return cache.get(cacheKey);
  
  return debouncedFetch(cacheKey, async () =&gt; {
    const { data, error } = await supabase
      .from('materials'</code></pre></div><div class="py-4"><p class="text-gray-600">services/cloud.js (Line 175:14 - Line 180:23), services/cloud.js (Line 82:11 - Line 68:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn86" onclick="toggleCodeBlock('cloneGroup86', 'expandBtn86', 'collapseBtn86')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup86"><code class="language-javascript text-sm text-gray-800">${businessId}`;
  if (cache.has(cacheKey)) return cache.get(cacheKey);
  
  return debouncedFetch(cacheKey, async () =&gt; {
    const { data, error } = await supabase
      .from('performance_settings'</code></pre></div><div class="py-4"><p class="text-gray-600">services/cloud.js (Line 219:28 - Line 226:48), services/cloud.js (Line 167:25 - Line 174:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn87" onclick="toggleCodeBlock('cloneGroup87', 'expandBtn87', 'collapseBtn87')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup87"><code class="language-javascript text-sm text-gray-800">, error);
      return [];
    }
    return data || [];
  });
};

// Clear cache when needed (e.g., after logout)</code></pre></div><div class="py-4"><p class="text-gray-600">services/cloud.js (Line 288:12 - Line 294:31), services/cloud.js (Line 255:12 - Line 261:39)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn88" onclick="toggleCodeBlock('cloneGroup88', 'expandBtn88', 'collapseBtn88')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup88"><code class="language-javascript text-sm text-gray-800">)
    .single();
  if (error || !data) return null;
  return data.code;
}

// Batch insert/update utility</code></pre></div><div class="py-4"><p class="text-gray-600">scripts/add-test-users.js (Line 8:1 - Line 16:19), scripts/setup-users-table.js (Line 8:1 - Line 16:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn89" onclick="toggleCodeBlock('cloneGroup89', 'expandBtn89', 'collapseBtn89')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup89"><code class="language-javascript text-sm text-gray-800">const { createClient } = require('@supabase/supabase-js');

// Your Supabase credentials (same as in app.json)
const supabaseUrl = 'https://qdfhklikmkyeqsiuapjg.supabase.co';
const supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkZmhrbGlrbWt5ZXFzaXVhcGpnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4MTgxNTQsImV4cCI6MjA2NzM5NDE1NH0.peZxjF2MbN9kBg4VVpQoSGjQblSTa24z4s0iiWqHfxA';

const supabase = createClient(supabaseUrl, supabaseAnonKey);

// Test users data</code></pre></div><div class="py-4"><p class="text-gray-600">scripts/add-test-users.js (Line 30:14 - Line 35:39), scripts/add-test-users.js (Line 22:10 - Line 27:39)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn90" onclick="toggleCodeBlock('cloneGroup90', 'expandBtn90', 'collapseBtn90')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup90"><code class="language-javascript text-sm text-gray-800">,
    role: 'admin',
    created_at: new Date().toISOString()
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440003'</code></pre></div><div class="py-4"><p class="text-gray-600">scripts/add-test-users.js (Line 45:27 - Line 51:39), scripts/add-test-users.js (Line 37:25 - Line 43:39)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn91" onclick="toggleCodeBlock('cloneGroup91', 'expandBtn91', 'collapseBtn91')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup91"><code class="language-javascript text-sm text-gray-800">,
    password: 'password123',
    role: 'employee',
    created_at: new Date().toISOString()
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440005'</code></pre></div><div class="py-4"><p class="text-gray-600">scripts/add-test-users.js (Line 53:27 - Line 58:2), scripts/add-test-users.js (Line 37:25 - Line 41:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn92" onclick="toggleCodeBlock('cloneGroup92', 'expandBtn92', 'collapseBtn92')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup92"><code class="language-javascript text-sm text-gray-800">,
    password: 'password123',
    role: 'employee',
    created_at: new Date().toISOString()
  }
]</code></pre></div><div class="py-4"><p class="text-gray-600">scripts/add-test-users.js (Line 124:3 - Line 130:13), scripts/setup-users-table.js (Line 89:3 - Line 95:16)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn93" onclick="toggleCodeBlock('cloneGroup93', 'expandBtn93', 'collapseBtn93')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup93"><code class="language-javascript text-sm text-gray-800">} catch (error) {
    console.error('❌ Unexpected error:', error.message);
  }
}

// Run the script
addTestUsers</code></pre></div><div class="py-4"><p class="text-gray-600">components/TaskRatingModal.tsx (Line 96:8 - Line 102:7), app/screens/EmployeeDashboardScreen.tsx (Line 498:5 - Line 504:10)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn94" onclick="toggleCodeBlock('cloneGroup94', 'expandBtn94', 'collapseBtn94')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup94"><code class="language-javascript text-sm text-gray-800">}
    &gt;
      &lt;View style={styles.modalOverlay}&gt;
        &lt;View style={styles.modalContent}&gt;
          &lt;Text style={styles.modalTitle}&gt;Rate Completed Task&lt;/Text&gt;
          
          &lt;View style={styles</code></pre></div><div class="py-4"><p class="text-gray-600">components/PerformanceManagement.tsx (Line 120:12 - Line 137:14), components/PerformanceManagement.tsx (Line 116:17 - Line 123:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn96" onclick="toggleCodeBlock('cloneGroup96', 'expandBtn96', 'collapseBtn96')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup96"><code class="language-javascript text-sm text-gray-800">}&gt;{data.tasks_completed}&lt;/Text&gt;
          &lt;/View&gt;

          &lt;View style={styles.metric}&gt;
            &lt;FontAwesome5 name=&quot;star&quot; size={16} color=&quot;#FFD700&quot; /&gt;
            &lt;Text style={styles.metricLabel}&gt;Rating&lt;/Text&gt;
            &lt;Text style={styles.metricValue}&gt;{data.average_rating.toFixed(1)}&lt;/Text&gt;
          &lt;/View&gt;

          &lt;View style={styles.metric}&gt;
            &lt;FontAwesome5 name=&quot;thumbs-up&quot; size={16} color=&quot;#4CAF50&quot; /&gt;
            &lt;Text style={styles.metricLabel}&gt;Rated&lt;/Text&gt;
            &lt;Text style={styles.metricValue}&gt;{data.tasks_rated}&lt;/Text&gt;
          &lt;/View&gt;
        &lt;/View&gt;

        {data.average_rating &gt; 0 &amp;&amp; (
          &lt;View style={styles.ratingDisplay</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="typescript-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">typescript</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">components/utility/types.ts (Line 185:11 - Line 192:25), components/utility/types.ts (Line 172:14 - Line 179:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn0" onclick="toggleCodeBlock('cloneGroup0', 'expandBtn0', 'collapseBtn0')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup0"><code class="language-typescript text-sm text-gray-800">: string;
    tasks_completed: number;
    average_rating: number;
    tasks_rated: number;
  }[];
}

// Form validation types</code></pre></div><div class="py-4"><p class="text-gray-600">components/utility/styles.ts (Line 134:5 - Line 139:12), components/utility/styles.ts (Line 16:3 - Line 21:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn1" onclick="toggleCodeBlock('cloneGroup1', 'expandBtn1', 'collapseBtn1')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup1"><code class="language-typescript text-sm text-gray-800">borderRadius: 8,
    paddingVertical: 12,
    paddingHorizontal: 20,
    alignItems: 'center',
    justifyContent: 'center',
    borderWidth</code></pre></div><div class="py-4"><p class="text-gray-600">components/utility/styles.ts (Line 143:10 - Line 150:7), components/utility/styles.ts (Line 133:10 - Line 140:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn2" onclick="toggleCodeBlock('cloneGroup2', 'expandBtn2', 'collapseBtn2')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup2"><code class="language-typescript text-sm text-gray-800">,
    borderRadius: 8,
    paddingVertical: 12,
    paddingHorizontal: 20,
    alignItems: 'center',
    justifyContent: 'center',
    borderWidth: 1,
    borderColor: '#555'</code></pre></div><div class="py-4"><p class="text-gray-600">components/utility/styles.ts (Line 311:10 - Line 317:14), components/utility/styles.ts (Line 197:11 - Line 203:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn3" onclick="toggleCodeBlock('cloneGroup3', 'expandBtn3', 'collapseBtn3')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup3"><code class="language-typescript text-sm text-gray-800">: {
    fontSize: 14,
    fontWeight: '600',
    color: '#333',
    marginBottom: 8,
  },
  darkFormLabel</code></pre></div><div class="py-4"><p class="text-gray-600">components/utility/styles.ts (Line 317:14 - Line 323:10), components/utility/styles.ts (Line 203:15 - Line 210:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn4" onclick="toggleCodeBlock('cloneGroup4', 'expandBtn4', 'collapseBtn4')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup4"><code class="language-typescript text-sm text-gray-800">: {
    fontSize: 14,
    fontWeight: '600',
    color: '#e0e0e0',
    marginBottom: 8,
  },
  formError</code></pre></div><div class="py-4"><p class="text-gray-600">components/utility/styles.ts (Line 446:10 - Line 453:15), components/utility/styles.ts (Line 438:10 - Line 445:15)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn5" onclick="toggleCodeBlock('cloneGroup5', 'expandBtn5', 'collapseBtn5')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup5"><code class="language-typescript text-sm text-gray-800">,
    borderRadius: 16,
    paddingHorizontal: 12,
    paddingVertical: 6,
    marginRight: 8,
    marginBottom: 8,
  },
  filterChipText</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="tsx-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">tsx</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 278:5 - Line 288:2), components/admin/TasksTab.tsx (Line 228:4 - Line 237:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn14" onclick="toggleCodeBlock('cloneGroup14', 'expandBtn14', 'collapseBtn14')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup14"><code class="language-tsx text-sm text-gray-800">) =&gt; {
                const mat = materials.find(m =&gt; m.id === mu.materialId);
                const type = mu.materialTypeId &amp;&amp; materialTypes[mu.materialId]?.find(t =&gt; t.id === mu.materialTypeId);
                return (
                  &lt;Text key={idx2} style={{ fontSize: 14 }}&gt;{mat?.name}{type ? ` (${type.label})` : ''}: {mu.quantity} {mat?.unit}&lt;/Text&gt;
                );
              })}
            &lt;/View&gt;
          )}
          
          {</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 414:49 - Line 423:25), components/admin/TasksTab.tsx (Line 162:28 - Line 171:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn15" onclick="toggleCodeBlock('cloneGroup15', 'expandBtn15', 'collapseBtn15')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup15"><code class="language-tsx text-sm text-gray-800">}
            &lt;View style={{ marginTop: 12, marginBottom: 12, backgroundColor: '#f5faff', borderRadius: 10, padding: 10 }}&gt;
              &lt;Text style={{ fontWeight: 'bold', color: '#1976d2', marginBottom: 4 }}&gt;Add Materials Used&lt;/Text&gt;
              &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 6 }}&gt;
                &lt;Text style={{ marginRight: 6 }}&gt;Material:&lt;/Text&gt;
                &lt;View style={{ flex: 1 }}&gt;
                  &lt;ScrollView horizontal showsHorizontalScrollIndicator={false}&gt;
                    {materials.map(mat =&gt; (
                      &lt;TouchableOpacity
                        </code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 434:23 - Line 448:27), components/admin/TasksTab.tsx (Line 182:17 - Line 196:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn16" onclick="toggleCodeBlock('cloneGroup16', 'expandBtn16', 'collapseBtn16')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup16"><code class="language-tsx text-sm text-gray-800">&gt;
                        &lt;Text style={{ color: selectedMaterialForTask === mat.id ? '#fff' : '#1976d2' }}&gt;{mat.name}&lt;/Text&gt;
                      &lt;/TouchableOpacity&gt;
                    ))}
                  &lt;/ScrollView&gt;
                &lt;/View&gt;
              &lt;/View&gt;
              {selectedMaterialForTask &amp;&amp; (
                &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 6 }}&gt;
                  &lt;Text style={{ marginRight: 6 }}&gt;Type:&lt;/Text&gt;
                  &lt;View style={{ flex: 1 }}&gt;
                    &lt;ScrollView horizontal showsHorizontalScrollIndicator={false}&gt;
                      {(materialTypes[selectedMaterialForTask] || []).map(type =&gt; (
                        &lt;TouchableOpacity
                          </code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 456:25 - Line 467:19), components/admin/TasksTab.tsx (Line 204:19 - Line 215:13)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn17" onclick="toggleCodeBlock('cloneGroup17', 'expandBtn17', 'collapseBtn17')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup17"><code class="language-tsx text-sm text-gray-800">&gt;
                          &lt;Text style={{ color: selectedMaterialTypeForTask === type.id ? '#fff' : '#1976d2' }}&gt;{type.label}&lt;/Text&gt;
                        &lt;/TouchableOpacity&gt;
                      ))}
                    &lt;/ScrollView&gt;
                  &lt;/View&gt;
                &lt;/View&gt;
              )}
              &lt;View style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 6 }}&gt;
                &lt;Text style={{ marginRight: 6 }}&gt;Quantity:&lt;/Text&gt;
                &lt;TextInput
                  </code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 472:17 - Line 477:41), components/admin/TasksTab.tsx (Line 220:11 - Line 225:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn18" onclick="toggleCodeBlock('cloneGroup18', 'expandBtn18', 'collapseBtn18')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup18"><code class="language-tsx text-sm text-gray-800">/&gt;
                &lt;TouchableOpacity style={adminStyles.addBtn} onPress={handleAddMaterialToTask}&gt;
                  &lt;Text style={adminStyles.addBtnText}&gt;Add&lt;/Text&gt;
                &lt;/TouchableOpacity&gt;
              &lt;/View&gt;
              {/* List added materials for this task */</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 480:5 - Line 491:5), components/admin/TasksTab.tsx (Line 227:6 - Line 238:17)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn19" onclick="toggleCodeBlock('cloneGroup19', 'expandBtn19', 'collapseBtn19')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup19"><code class="language-tsx text-sm text-gray-800">:&lt;/Text&gt;
                  {materialsForNewTask.map((mu, idx) =&gt; {
                    const mat = materials.find(m =&gt; m.id === mu.materialId);
                    const type = mu.materialTypeId &amp;&amp; materialTypes[mu.materialId]?.find(t =&gt; t.id === mu.materialTypeId);
                    return (
                      &lt;Text key={idx} style={{ fontSize: 14 }}&gt;{mat?.name}{type ? ` (${type.label})` : ''}: {mu.quantity} {mat?.unit}&lt;/Text&gt;
                    );
                  })}
                &lt;/View&gt;
              )}
            &lt;/View&gt;
            &lt;View</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 493:16 - Line 498:16), components/admin/TasksTab.tsx (Line 53:21 - Line 59:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn20" onclick="toggleCodeBlock('cloneGroup20', 'expandBtn20', 'collapseBtn20')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup20"><code class="language-tsx text-sm text-gray-800">) return;
                const { data, error } = await supabase
                  .from('tasks')
                  .insert({
                    name: newTaskName,
                    assignedTo: addTaskEmployee</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 498:16 - Line 508:9), components/admin/TasksTab.tsx (Line 59:21 - Line 70:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn21" onclick="toggleCodeBlock('cloneGroup21', 'expandBtn21', 'collapseBtn21')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup21"><code class="language-tsx text-sm text-gray-800">.id,
                    business_id: user.business_id,
                    start: newTaskStart,
                    deadline: newTaskDeadline,
                    completed: false,
                    completedAt: null,
                    materialsUsed: materialsForNewTask,
                  })
                  .select('*')
                  .single();
                if (!error &amp;&amp; data) setTasks</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/TasksTab.tsx (Line 508:2 - Line 513:19), components/admin/TasksTab.tsx (Line 71:7 - Line 76:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn22" onclick="toggleCodeBlock('cloneGroup22', 'expandBtn22', 'collapseBtn22')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup22"><code class="language-tsx text-sm text-gray-800">setTasks([...tasks, data]);
                setNewTaskName('');
                setNewTaskStart('');
                setNewTaskDeadline('');
                setMaterialsForNewTask([]);
                setAddTaskEmployee</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/PerformanceTab.tsx (Line 104:5 - Line 121:5), components/admin/PerformanceTab.tsx (Line 84:5 - Line 101:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn34" onclick="toggleCodeBlock('cloneGroup34', 'expandBtn34', 'collapseBtn34')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup34"><code class="language-tsx text-sm text-gray-800">&gt;
          
          &lt;View style={{ marginBottom: 12 }}&gt;
            &lt;TouchableOpacity
              style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 8 }}
              onPress={() =&gt; updatePerformanceSettings({
                ...performanceSettings,
                autoRateCompletedTasks: !performanceSettings.autoRateCompletedTasks
              })}
            &gt;
              &lt;FontAwesome5
                name={performanceSettings.autoRateCompletedTasks ? 'toggle-on' : 'toggle-off'}
                size={20}
                color={performanceSettings.autoRateCompletedTasks ? '#4CAF50' : '#ccc'}
                style={{ marginRight: 12 }}
              /&gt;
              &lt;Text style={{ fontSize: 14, color: '#333' }}&gt;
                Auto</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/MaterialsTab.tsx (Line 67:5 - Line 73:7), components/admin/MaterialsTab.tsx (Line 34:5 - Line 40:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn36" onclick="toggleCodeBlock('cloneGroup36', 'expandBtn36', 'collapseBtn36')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup36"><code class="language-tsx text-sm text-gray-800">if (!newMaterialName || !newMaterialUnit) {
      Alert.alert('Missing Fields', 'Please enter both name and unit.');
      return;
    }
    const { data, error } = await supabase
      .from('materials')
      .update</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/MaterialsTab.tsx (Line 81:27 - Line 94:16), components/admin/MaterialsTab.tsx (Line 48:26 - Line 61:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn37" onclick="toggleCodeBlock('cloneGroup37', 'expandBtn37', 'collapseBtn37')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup37"><code class="language-tsx text-sm text-gray-800">);
      return;
    }
    // Refetch materials from Supabase
    try {
      const { data: allMaterials, error: fetchError } = await supabase
        .from('materials')
        .select('*')
        .eq('business_id', user.business_id);
      if (!fetchError &amp;&amp; allMaterials) setMaterials(allMaterials);
    } catch (fetchErr) {
      console.error('Refetch materials error:', fetchErr);
    }
    setEditMaterial</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/MaterialsTab.tsx (Line 105:29 - Line 118:2), components/admin/MaterialsTab.tsx (Line 48:26 - Line 61:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn38" onclick="toggleCodeBlock('cloneGroup38', 'expandBtn38', 'collapseBtn38')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup38"><code class="language-tsx text-sm text-gray-800">);
      return;
    }
    // Refetch materials from Supabase
    try {
      const { data: allMaterials, error: fetchError } = await supabase
        .from('materials')
        .select('*')
        .eq('business_id', user.business_id);
      if (!fetchError &amp;&amp; allMaterials) setMaterials(allMaterials);
    } catch (fetchErr) {
      console.error('Refetch materials error:', fetchErr);
    }
  }</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/MaterialsTab.tsx (Line 185:2 - Line 190:13), components/admin/TasksTab.tsx (Line 220:11 - Line 225:20)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn39" onclick="toggleCodeBlock('cloneGroup39', 'expandBtn39', 'collapseBtn39')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup39"><code class="language-tsx text-sm text-gray-800">/&gt;
        &lt;TouchableOpacity style={adminStyles.addBtn} onPress={handleAddMaterial}&gt;
          &lt;Text style={adminStyles.addBtnText}&gt;Add&lt;/Text&gt;
        &lt;/TouchableOpacity&gt;
      &lt;/View&gt;
      {editMaterial</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/MaterialsTab.tsx (Line 193:2 - Line 198:2), components/admin/SettingsModal.tsx (Line 126:19 - Line 131:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn40" onclick="toggleCodeBlock('cloneGroup40', 'expandBtn40', 'collapseBtn40')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup40"><code class="language-tsx text-sm text-gray-800">/&gt;
          &lt;TouchableOpacity style={adminStyles.saveBtn} onPress={handleEditMaterial}&gt;
            &lt;Text style={adminStyles.saveBtnText}&gt;Save&lt;/Text&gt;
          &lt;/TouchableOpacity&gt;
        &lt;/View&gt;
      )</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 167:11 - Line 172:5), components/admin/SettingsModal.tsx (Line 211:17 - Line 216:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn49" onclick="toggleCodeBlock('cloneGroup49', 'expandBtn49', 'collapseBtn49')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup49"><code class="language-tsx text-sm text-gray-800">&gt;
            &lt;TouchableOpacity style={styles.closeBtn} onPress={() =&gt; setShowAllTasksModal(false)}&gt;
              &lt;Text style={styles.closeBtnText}&gt;Close&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 183:5 - Line 194:26), components/admin/HomeTab.tsx (Line 164:3 - Line 175:31)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn50" onclick="toggleCodeBlock('cloneGroup50', 'expandBtn50', 'collapseBtn50')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup50"><code class="language-tsx text-sm text-gray-800">}
                &lt;/Text&gt;
              ))}
            &lt;/ScrollView&gt;
            &lt;TouchableOpacity style={styles.closeBtn} onPress={() =&gt; setShowAllLateEmpsModal(false)}&gt;
              &lt;Text style={styles.closeBtnText}&gt;Close&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/Modal&gt;

      {/* All Materials Modal */</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/HomeTab.tsx (Line 202:4 - Line 212:3), components/admin/HomeTab.tsx (Line 164:3 - Line 175:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn51" onclick="toggleCodeBlock('cloneGroup51', 'expandBtn51', 'collapseBtn51')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup51"><code class="language-tsx text-sm text-gray-800">}
                &lt;/Text&gt;
              ))}
            &lt;/ScrollView&gt;
            &lt;TouchableOpacity style={styles.closeBtn} onPress={() =&gt; setShowAllMaterialsModal(false)}&gt;
              &lt;Text style={styles.closeBtnText}&gt;Close&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/Modal&gt;
    &lt;/</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/ExportModal.tsx (Line 101:3 - Line 107:7), components/admin/SettingsModal.tsx (Line 102:3 - Line 108:9)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn52" onclick="toggleCodeBlock('cloneGroup52', 'expandBtn52', 'collapseBtn52')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup52"><code class="language-tsx text-sm text-gray-800">};

  return (
    &lt;Modal visible={visible} animationType=&quot;slide&quot; transparent onRequestClose={onClose}&gt;
      &lt;View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.3)', justifyContent: 'center', alignItems: 'center' }}&gt;
        &lt;View style={{ backgroundColor: '#fff', borderRadius: 14, padding: 24, width: '90%' }}&gt;
          &lt;Text style={{ fontSize: 20, fontWeight: 'bold', marginBottom: 16, color: '#1976d2' }}&gt;Export</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/EmployeesTab.tsx (Line 58:22 - Line 64:8), components/admin/MaterialsTab.tsx (Line 42:16 - Line 48:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn54" onclick="toggleCodeBlock('cloneGroup54', 'expandBtn54', 'collapseBtn54')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup54"><code class="language-tsx text-sm text-gray-800">,
        business_id: user.business_id,
      })
      .select('*')
      .single();
    if (error || !data) {
      console</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/EmployeesTab.tsx (Line 90:7 - Line 97:2), components/admin/EmployeesTab.tsx (Line 52:7 - Line 59:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn55" onclick="toggleCodeBlock('cloneGroup55', 'expandBtn55', 'collapseBtn55')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup55"><code class="language-tsx text-sm text-gray-800">({
        name: newEmployeeName,
        code: newEmployeeCode,
        lunchStart: newEmployeeLunchStart,
        lunchEnd: newEmployeeLunchEnd,
        photo_uri: newEmployeePhotoUri,
        department: newEmployeeDepartment,
      }</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/EmployeesTab.tsx (Line 103:5 - Line 111:21), components/admin/EmployeesTab.tsx (Line 78:5 - Line 86:19)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn56" onclick="toggleCodeBlock('cloneGroup56', 'expandBtn56', 'collapseBtn56')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup56"><code class="language-tsx text-sm text-gray-800">setNewEmployeeName('');
    setNewEmployeeCode('');
    setNewEmployeeLunchStart('12:00');
    setNewEmployeeLunchEnd('12:30');
    setNewEmployeePhotoUri(undefined);
    setNewEmployeeDepartment('');
  };

  const handleDeleteEmployee</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/EmployeesTab.tsx (Line 221:9 - Line 226:2), components/admin/TasksTab.tsx (Line 221:11 - Line 207:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn57" onclick="toggleCodeBlock('cloneGroup57', 'expandBtn57', 'collapseBtn57')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup57"><code class="language-tsx text-sm text-gray-800">&lt;TouchableOpacity style={adminStyles.addBtn} onPress={() =&gt; { handleAddEmployee(); setShowAddEmployeeModal(false); }}&gt;
          &lt;Text style={adminStyles.addBtnText}&gt;Add&lt;/Text&gt;
        &lt;/TouchableOpacity&gt;
      &lt;/AdminModal&gt;

      {</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/EmployeesTab.tsx (Line 228:16 - Line 234:26), components/admin/MaterialsTab.tsx (Line 185:5 - Line 226:27)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn58" onclick="toggleCodeBlock('cloneGroup58', 'expandBtn58', 'collapseBtn58')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup58"><code class="language-tsx text-sm text-gray-800">&quot; value={newDepartment} onChangeText={setNewDepartment} /&gt;
        &lt;TouchableOpacity style={adminStyles.addBtn} onPress={handleAddDepartment}&gt;
          &lt;Text style={adminStyles.addBtnText}&gt;Add&lt;/Text&gt;
        &lt;/TouchableOpacity&gt;
      &lt;/AdminModal&gt;

      {/* Edit Employee Modal */</code></pre></div><div class="py-4"><p class="text-gray-600">components/admin/EmployeesTab.tsx (Line 239:9 - Line 258:5), components/admin/EmployeesTab.tsx (Line 203:9 - Line 222:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn59" onclick="toggleCodeBlock('cloneGroup59', 'expandBtn59', 'collapseBtn59')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup59"><code class="language-tsx text-sm text-gray-800">&lt;/View&gt;
        &lt;View style={adminStyles.addEmployeeInputsRow}&gt;
          &lt;TextInput style={adminStyles.input} placeholder=&quot;Lunch Start&quot; value={newEmployeeLunchStart} onChangeText={setNewEmployeeLunchStart} /&gt;
          &lt;TextInput style={adminStyles.input} placeholder=&quot;Lunch End&quot; value={newEmployeeLunchEnd} onChangeText={setNewEmployeeLunchEnd} /&gt;
        &lt;/View&gt;
        &lt;View style={adminStyles.addEmployeeInputsRow}&gt;
          &lt;TextInput style={adminStyles.input} placeholder=&quot;Department&quot; value={newEmployeeDepartment} onChangeText={setNewEmployeeDepartment} /&gt;
        &lt;/View&gt;
        &lt;TouchableOpacity style={{ flexDirection: 'row', alignItems: 'center', marginBottom: 8 }} onPress={pickEmployeePhoto}&gt;
          {newEmployeePhotoUri ? (
            &lt;Image source={{ uri: newEmployeePhotoUri }} style={{ width: 40, height: 40, borderRadius: 20, marginRight: 8 }} /&gt;
          ) : (
            &lt;View style={{ width: 40, height: 40, borderRadius: 20, backgroundColor: '#e3f2fd', marginRight: 8, alignItems: 'center', justifyContent: 'center' }}&gt;
              &lt;FontAwesome5 name=&quot;camera&quot; size={20} color=&quot;#1976d2&quot; /&gt;
            &lt;/View&gt;
          )}
          &lt;Text style={{ color: '#1976d2', fontWeight: 'bold' }}&gt;{newEmployeePhotoUri ? 'Change Photo' : 'Add Photo'}&lt;/Text&gt;
        &lt;/TouchableOpacity&gt;
        &lt;TouchableOpacity style={adminStyles.saveBtn} onPress={handleSaveEmployee}&gt;
          &lt;Text style={adminStyles.saveBtnText}&gt;Save</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 221:2 - Line 227:17), app/screens/EmployeeDashboardScreen.tsx (Line 200:2 - Line 206:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn67" onclick="toggleCodeBlock('cloneGroup67', 'expandBtn67', 'collapseBtn67')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup67"><code class="language-tsx text-sm text-gray-800">,
                materialsUsed: (taskMaterials[taskId] || [])
                  .filter(m =&gt; m.quantity &amp;&amp; !isNaN(Number(m.quantity)))
                  .map(m =&gt; ({ materialId: m.materialId, quantity: Number(m.quantity) })),
              };
            }));
            Alert.alert('Task Completed'</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 282:2 - Line 289:2), app/screens/EmployeeDashboardScreen.tsx (Line 244:13 - Line 251:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn68" onclick="toggleCodeBlock('cloneGroup68', 'expandBtn68', 'collapseBtn68')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup68"><code class="language-tsx text-sm text-gray-800">&gt; 
            &lt;Text style={styles.modalTitle}&gt;{task.name}&lt;/Text&gt;
            &lt;Text style={styles.taskTime}&gt;Start: {task.start} | Due: {task.deadline}&lt;/Text&gt;
            &lt;Text style={styles.taskStatus}&gt;{task.completed ? 'Completed' : 'In Progress'}&lt;/Text&gt;
            {task.completed &amp;&amp; task.completedAt &amp;&amp; (
              &lt;Text style={{ color: '#888', fontSize: 13, marginBottom: 4 }}&gt;Completed at: {new Date(task.completedAt).toLocaleString()}&lt;/Text&gt;
            )}
            {!</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 319:5 - Line 333:2), app/screens/EmployeeDashboardScreen.tsx (Line 249:5 - Line 263:3)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn69" onclick="toggleCodeBlock('cloneGroup69', 'expandBtn69', 'collapseBtn69')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup69"><code class="language-tsx text-sm text-gray-800">&gt;
            )}
            {task.completed &amp;&amp; task.materialsUsed &amp;&amp; task.materialsUsed.length &gt; 0 &amp;&amp; (
              &lt;View style={{ marginTop: 8 }}&gt;
                &lt;Text style={{ fontWeight: 'bold', marginBottom: 2 }}&gt;Materials Used:&lt;/Text&gt;
                {task.materialsUsed.map(mu =&gt; {
                  const mat = materials.find(m =&gt; m.id === mu.materialId);
                  if (!mat) return null;
                  return (
                    &lt;Text key={mat.id} style={{ fontSize: 14 }}&gt;{mat.name}: {mu.quantity} {mat.unit}&lt;/Text&gt;
                  );
                })}
              &lt;/View&gt;
            )}
            &lt;</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 333:13 - Line 339:2), components/admin/SettingsModal.tsx (Line 212:15 - Line 175:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn70" onclick="toggleCodeBlock('cloneGroup70', 'expandBtn70', 'collapseBtn70')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup70"><code class="language-tsx text-sm text-gray-800">&lt;TouchableOpacity style={[styles.closeBtn, { marginTop: 18 }]} onPress={() =&gt; setSelectedTask(null)}&gt;
              &lt;Text style={styles.closeBtnText}&gt;Close&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/Modal&gt;
    )</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 365:7 - Line 373:9), app/screens/EmployeeDashboardScreen.tsx (Line 275:7 - Line 283:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn71" onclick="toggleCodeBlock('cloneGroup71', 'expandBtn71', 'collapseBtn71')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup71"><code class="language-tsx text-sm text-gray-800">&lt;Modal
        visible={settingsVisible}
        animationType=&quot;slide&quot;
        transparent={true}
        onRequestClose={() =&gt; setSettingsVisible(false)}
      &gt;
        &lt;View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.3)', justifyContent: 'center', alignItems: 'center' }}&gt;
          &lt;View style={{ backgroundColor: isDark ? '#23263a' : '#fff', borderRadius: 16, padding: 28, width: '90%' }}&gt;
            &lt;Text style={{ fontSize: 22, fontWeight: 'bold', color: isDark ? '#b3c0e0' : '#1976d2', marginBottom: 18 }}&gt;Settings</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 416:5 - Line 423:24), components/admin/SettingsModal.tsx (Line 211:17 - Line 175:31)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn72" onclick="toggleCodeBlock('cloneGroup72', 'expandBtn72', 'collapseBtn72')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup72"><code class="language-tsx text-sm text-gray-800">&gt;
            &lt;TouchableOpacity style={{ backgroundColor: '#1976d2', borderRadius: 8, padding: 14, marginTop: 10 }} onPress={() =&gt; setSettingsVisible(false)}&gt;
              &lt;Text style={{ color: '#fff', fontWeight: 'bold', textAlign: 'center' }}&gt;Close&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/Modal&gt;
      {/* Welcome Animation */</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 461:5 - Line 467:6), app/screens/EmployeeDashboardScreen.tsx (Line 277:6 - Line 283:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn73" onclick="toggleCodeBlock('cloneGroup73', 'expandBtn73', 'collapseBtn73')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup73"><code class="language-tsx text-sm text-gray-800">&quot;
        transparent={true}
        onRequestClose={() =&gt; setCodePromptVisible(false)}
      &gt;
        &lt;View style={styles.modalOverlay}&gt;
          &lt;View style={styles.codeModalContent}&gt;
            &lt;Text style={styles.modalTitle}&gt;Enter</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 512:13 - Line 518:46), components/admin/SettingsModal.tsx (Line 212:15 - Line 175:31)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn74" onclick="toggleCodeBlock('cloneGroup74', 'expandBtn74', 'collapseBtn74')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup74"><code class="language-tsx text-sm text-gray-800">&lt;TouchableOpacity style={styles.closeBtn} onPress={userAction(() =&gt; setModalVisible(false))}&gt;
              &lt;Text style={styles.closeBtnText}&gt;Close&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/Modal&gt;
      {/* Full page for selected employee's tasks */</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/EmployeeDashboardScreen.tsx (Line 523:11 - Line 528:2), components/admin/TasksTab.tsx (Line 517:17 - Line 522:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn75" onclick="toggleCodeBlock('cloneGroup75', 'expandBtn75', 'collapseBtn75')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup75"><code class="language-tsx text-sm text-gray-800">&gt;
            &lt;TouchableOpacity style={[styles.closeBtn, { backgroundColor: theme.primary }]} onPress={userAction(closeEmployeeTasks)}&gt;
              &lt;Text style={styles.closeBtnText}&gt;Back&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
          {</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/AdminDashboardScreen.tsx (Line 26:18 - Line 31:12), app/screens/EmployeeDashboardScreen.tsx (Line 60:21 - Line 65:11)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn78" onclick="toggleCodeBlock('cloneGroup78', 'expandBtn78', 'collapseBtn78')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup78"><code class="language-tsx text-sm text-gray-800">] = useState(false);

  // Check for biometric support on mount
  useEffect(() =&gt; {
    (async () =&gt; {
      const hasHardware</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/AdminDashboardScreen.tsx (Line 125:20 - Line 133:14), components/admin/ClockEventsTab.tsx (Line 27:12 - Line 35:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn79" onclick="toggleCodeBlock('cloneGroup79', 'expandBtn79', 'collapseBtn79')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup79"><code class="language-tsx text-sm text-gray-800">]);

  // Helper: group clock events by employee
  const clockEventsByEmployee = employees.reduce((acc, emp) =&gt; {
    acc[emp.id] = clockEvents.filter(ev =&gt; ev.employee_id === emp.id);
    return acc;
  }, {} as Record&lt;string, ClockEvent[]&gt;);

  // Tab bar UI</code></pre></div><div class="py-4"><p class="text-gray-600">app/screens/AdminDashboardScreen.tsx (Line 189:2 - Line 195:14), app/screens/EmployeeDashboardScreen.tsx (Line 359:2 - Line 364:21)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn80" onclick="toggleCodeBlock('cloneGroup80', 'expandBtn80', 'collapseBtn80')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup80"><code class="language-tsx text-sm text-gray-800">Dashboard&lt;/Text&gt;
        &lt;TouchableOpacity onPress={() =&gt; setSettingsModalVisible(true)} style={{ padding: 8 }}&gt;
          &lt;FontAwesome5 name=&quot;cog&quot; size={24} color={darkMode ? '#b3c0e0' : '#1976d2'} /&gt;
        &lt;/TouchableOpacity&gt;
      &lt;/View&gt;

      {/* Tab Bar */</code></pre></div><div class="py-4"><p class="text-gray-600">components/TaskRatingModal.tsx (Line 173:15 - Line 182:6), components/admin/ExportModal.tsx (Line 133:7 - Line 140:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn95" onclick="toggleCodeBlock('cloneGroup95', 'expandBtn95', 'collapseBtn95')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup95"><code class="language-tsx text-sm text-gray-800">&lt;/Text&gt;
            &lt;/TouchableOpacity&gt;
          &lt;/View&gt;
        &lt;/View&gt;
      &lt;/View&gt;
    &lt;/Modal&gt;
  );
}

const</code></pre></div><div class="py-4"><p class="text-gray-600">components/PerformanceManagement.tsx (Line 114:5 - Line 119:6), components/admin/PerformanceTab.tsx (Line 196:5 - Line 202:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn97" onclick="toggleCodeBlock('cloneGroup97', 'expandBtn97', 'collapseBtn97')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup97"><code class="language-tsx text-sm text-gray-800">&gt;

        &lt;View style={styles.metricsContainer}&gt;
          &lt;View style={styles.metric}&gt;
            &lt;FontAwesome5 name=&quot;tasks&quot; size={16} color=&quot;#1976d2&quot; /&gt;
            &lt;Text style={styles.metricLabel}&gt;Tasks</code></pre></div><div class="py-4"><p class="text-gray-600">components/PerformanceManagement.tsx (Line 120:2 - Line 125:7), components/admin/PerformanceTab.tsx (Line 204:10 - Line 210:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn98" onclick="toggleCodeBlock('cloneGroup98', 'expandBtn98', 'collapseBtn98')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup98"><code class="language-tsx text-sm text-gray-800">&lt;/Text&gt;
          &lt;/View&gt;

          &lt;View style={styles.metric}&gt;
            &lt;FontAwesome5 name=&quot;star&quot; size={16} color=&quot;#FFD700&quot; /&gt;
            &lt;Text style={styles.metricLabel}&gt;Rating</code></pre></div><div class="py-4"><p class="text-gray-600">components/PerformanceManagement.tsx (Line 165:2 - Line 170:2), components/TaskRatingModal.tsx (Line 126:2 - Line 132:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn99" onclick="toggleCodeBlock('cloneGroup99', 'expandBtn99', 'collapseBtn99')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup99"><code class="language-tsx text-sm text-gray-800">p.charAt(0).toUpperCase() + p.slice(1)}
          &lt;/Text&gt;
        &lt;/TouchableOpacity&gt;
      ))}
    &lt;/View&gt;
  )</code></pre></div><div class="py-4"><p class="text-gray-600">components/PerformanceManagement.tsx (Line 222:5 - Line 230:16), app/screens/EmployeeDashboardScreen.tsx (Line 534:17 - Line 540:8)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn100" onclick="toggleCodeBlock('cloneGroup100', 'expandBtn100', 'collapseBtn100')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup100"><code class="language-tsx text-sm text-gray-800">&gt;
    &lt;/View&gt;
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor</code></pre></div><div class="py-4"><p class="text-gray-600">components/PerformanceManagement.tsx (Line 274:12 - Line 283:11), components/PerformanceManagement.tsx (Line 232:7 - Line 241:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn101" onclick="toggleCodeBlock('cloneGroup101', 'expandBtn101', 'collapseBtn101')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup101"><code class="language-tsx text-sm text-gray-800">: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    padding: 20,
    backgroundColor: '#fff',
    borderBottomWidth: 1,
    borderBottomColor: '#e0e0e0',
  },
  statsTitle</code></pre></div><div class="py-4"><p class="text-gray-600">components/Collapsible.tsx (Line 2:15 - Line 7:7), app/(tabs)/explore.tsx (Line 6:34 - Line 11:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn102" onclick="toggleCodeBlock('cloneGroup102', 'expandBtn102', 'collapseBtn102')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup102"><code class="language-tsx text-sm text-gray-800">;

import { ThemedText } from '@/components/ThemedText';
import { ThemedView } from '@/components/ThemedView';
import { IconSymbol } from '@/components/ui/IconSymbol';
import</code></pre></div><div class="py-4"><p class="text-gray-600">app/_layout.tsx (Line 127:3 - Line 135:23), app/_layout.tsx (Line 107:5 - Line 115:29)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn103" onclick="toggleCodeBlock('cloneGroup103', 'expandBtn103', 'collapseBtn103')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup103"><code class="language-tsx text-sm text-gray-800">return (
    &lt;&gt;
      &lt;Head&gt;
        &lt;title&gt;ShopFlow - Cloud Business Dashboard&lt;/title&gt;
        &lt;meta name=&quot;description&quot; content=&quot;ShopFlow: Cloud-based business management for teams. Fast, modern, and mobile-friendly.&quot; /&gt;
        &lt;meta name=&quot;theme-color&quot; content=&quot;#1976d2&quot; /&gt;
        &lt;link rel=&quot;manifest&quot; href=&quot;/manifest.json&quot; /&gt;
        &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;/icon.png&quot; /&gt;
        &lt;meta name=&quot;mobile-web-app-capable</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="json-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">json</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="sql-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">sql</h2><div class="divide-y divide-gray-200 border-b-2"><div class="py-4"><p class="text-gray-600">run_database_setup.sql (Line 66:2 - Line 73:57), run_database_setup.sql (Line 58:2 - Line 65:47)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn104" onclick="toggleCodeBlock('cloneGroup104', 'expandBtn104', 'collapseBtn104')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup104"><code class="language-sql text-sm text-gray-800">(
        business_id IN (
            SELECT business_id FROM users 
            WHERE id = auth.uid() AND role = 'admin'
        )
    );

CREATE POLICY &quot;Users can view performance settings for their business&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">run_database_setup.sql (Line 74:5 - Line 80:60), run_database_setup.sql (Line 51:5 - Line 57:47)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn105" onclick="toggleCodeBlock('cloneGroup105', 'expandBtn105', 'collapseBtn105')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup105"><code class="language-sql text-sm text-gray-800">FOR SELECT USING (
        business_id IN (
            SELECT business_id FROM users WHERE id = auth.uid()
        )
    );

CREATE POLICY &quot;Admins can manage performance settings for their business&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">run_database_setup.sql (Line 81:2 - Line 88:56), run_database_setup.sql (Line 66:2 - Line 65:47)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn106" onclick="toggleCodeBlock('cloneGroup106', 'expandBtn106', 'collapseBtn106')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup106"><code class="language-sql text-sm text-gray-800">USING (
        business_id IN (
            SELECT business_id FROM users 
            WHERE id = auth.uid() AND role = 'admin'
        )
    );

CREATE POLICY &quot;Users can view performance metrics for their business&quot;</code></pre></div><div class="py-4"><p class="text-gray-600">run_database_setup.sql (Line 89:5 - Line 95:66), run_database_setup.sql (Line 51:5 - Line 57:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn107" onclick="toggleCodeBlock('cloneGroup107', 'expandBtn107', 'collapseBtn107')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup107"><code class="language-sql text-sm text-gray-800">FOR SELECT USING (
        business_id IN (
            SELECT business_id FROM users WHERE id = auth.uid()
        )
    );

-- 6. Insert default performance settings for existing businesses</code></pre></div><div class="py-4"><p class="text-gray-600">database_schema.sql (Line 3:1 - Line 26:65), run_database_setup.sql (Line 4:1 - Line 27:32)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn108" onclick="toggleCodeBlock('cloneGroup108', 'expandBtn108', 'collapseBtn108')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup108"><code class="language-sql text-sm text-gray-800">-- 1. Task Ratings Table
CREATE TABLE IF NOT EXISTS task_ratings (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    task_id UUID REFERENCES tasks(id) ON DELETE CASCADE,
    employee_id UUID REFERENCES employees(id) ON DELETE CASCADE,
    admin_id UUID REFERENCES users(id) ON DELETE CASCADE,
    rating INTEGER CHECK (rating &gt;= 1 AND rating &lt;= 5),
    feedback TEXT,
    rated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    business_id UUID REFERENCES businesses(id) ON DELETE CASCADE
);

-- 2. Performance Settings Table
CREATE TABLE IF NOT EXISTS performance_settings (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    business_id UUID REFERENCES businesses(id) ON DELETE CASCADE UNIQUE,
    rating_system_enabled BOOLEAN DEFAULT true,
    auto_rate_completed_tasks BOOLEAN DEFAULT false,
    default_rating INTEGER DEFAULT 3,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 3. Performance Metrics Table (for caching calculated metrics)</code></pre></div><div class="py-4"><p class="text-gray-600">database_schema.sql (Line 27:1 - Line 43:53), run_database_setup.sql (Line 28:1 - Line 44:31)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn109" onclick="toggleCodeBlock('cloneGroup109', 'expandBtn109', 'collapseBtn109')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup109"><code class="language-sql text-sm text-gray-800">CREATE TABLE IF NOT EXISTS performance_metrics (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    employee_id UUID REFERENCES employees(id) ON DELETE CASCADE,
    business_id UUID REFERENCES businesses(id) ON DELETE CASCADE,
    period_type TEXT CHECK (period_type IN ('day', 'week', 'month')),
    period_start DATE,
    period_end DATE,
    tasks_completed INTEGER DEFAULT 0,
    average_rating DECIMAL(3,2) DEFAULT 0,
    total_rating INTEGER DEFAULT 0,
    tasks_rated INTEGER DEFAULT 0,
    performance_score DECIMAL(5,2) DEFAULT 0,
    last_calculated TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(employee_id, business_id, period_type, period_start)
);

-- Departments table for business-linked departments</code></pre></div><div class="py-4"><p class="text-gray-600">database_schema.sql (Line 55:1 - Line 78:44), run_database_setup.sql (Line 50:1 - Line 65:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn110" onclick="toggleCodeBlock('cloneGroup110', 'expandBtn110', 'collapseBtn110')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup110"><code class="language-sql text-sm text-gray-800">CREATE POLICY &quot;Users can view ratings for their business&quot; ON task_ratings
    FOR SELECT USING (
        business_id IN (
            SELECT business_id FROM users WHERE id = auth.uid()
        )
    );

CREATE POLICY &quot;Admins can insert ratings for their business&quot; ON task_ratings
    FOR INSERT WITH CHECK (
        business_id IN (
            SELECT business_id FROM users 
            WHERE id = auth.uid() AND role = 'admin'
        )
    );

CREATE POLICY &quot;Admins can update ratings for their business&quot; ON task_ratings
    FOR UPDATE USING (
        business_id IN (
            SELECT business_id FROM users 
            WHERE id = auth.uid() AND role = 'admin'
        )
    );

-- 5. RLS Policies for Performance Settings</code></pre></div><div class="py-4"><p class="text-gray-600">database_schema.sql (Line 79:9 - Line 96:43), run_database_setup.sql (Line 71:2 - Line 65:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn111" onclick="toggleCodeBlock('cloneGroup111', 'expandBtn111', 'collapseBtn111')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup111"><code class="language-sql text-sm text-gray-800">;

CREATE POLICY &quot;Users can view performance settings for their business&quot; ON performance_settings
    FOR SELECT USING (
        business_id IN (
            SELECT business_id FROM users WHERE id = auth.uid()
        )
    );

CREATE POLICY &quot;Admins can manage performance settings for their business&quot; ON performance_settings
    FOR ALL USING (
        business_id IN (
            SELECT business_id FROM users 
            WHERE id = auth.uid() AND role = 'admin'
        )
    );

-- 6. RLS Policies for Performance Metrics</code></pre></div><div class="py-4"><p class="text-gray-600">database_schema.sql (Line 97:9 - Line 106:48), run_database_setup.sql (Line 86:2 - Line 57:7)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn112" onclick="toggleCodeBlock('cloneGroup112', 'expandBtn112', 'collapseBtn112')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup112"><code class="language-sql text-sm text-gray-800">;

CREATE POLICY &quot;Users can view performance metrics for their business&quot; ON performance_metrics
    FOR SELECT USING (
        business_id IN (
            SELECT business_id FROM users WHERE id = auth.uid()
        )
    );

-- 7. Function to calculate performance metrics</code></pre></div><div class="py-4"><p class="text-gray-600">database_schema.sql (Line 107:1 - Line 163:56), run_database_setup.sql (Line 102:1 - Line 158:33)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn113" onclick="toggleCodeBlock('cloneGroup113', 'expandBtn113', 'collapseBtn113')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup113"><code class="language-sql text-sm text-gray-800">CREATE OR REPLACE FUNCTION calculate_performance_metrics(
    p_employee_id UUID,
    p_business_id UUID,
    p_period_type TEXT,
    p_start_date DATE,
    p_end_date DATE
) RETURNS VOID AS $$
DECLARE
    v_tasks_completed INTEGER;
    v_average_rating DECIMAL(3,2);
    v_total_rating INTEGER;
    v_tasks_rated INTEGER;
    v_performance_score DECIMAL(5,2);
BEGIN
    -- Count completed tasks in period
    SELECT COUNT(*)
    INTO v_tasks_completed
    FROM tasks t
    WHERE t.assigned_to = (SELECT name FROM employees WHERE id = p_employee_id)
    AND t.completed = true
    AND t.completed_at::date BETWEEN p_start_date AND p_end_date
    AND t.business_id = p_business_id;

    -- Calculate average rating
    SELECT 
        COALESCE(AVG(tr.rating), 0),
        COALESCE(SUM(tr.rating), 0),
        COUNT(tr.rating)
    INTO v_average_rating, v_total_rating, v_tasks_rated
    FROM task_ratings tr
    WHERE tr.employee_id = p_employee_id
    AND tr.business_id = p_business_id
    AND tr.rated_at::date BETWEEN p_start_date AND p_end_date;

    -- Calculate performance score (weighted: 70% tasks completed, 30% average rating)
    v_performance_score = (v_tasks_completed * 0.7) + (v_average_rating * 0.3);

    -- Insert or update performance metrics
    INSERT INTO performance_metrics (
        employee_id, business_id, period_type, period_start, period_end,
        tasks_completed, average_rating, total_rating, tasks_rated, performance_score, last_calculated
    ) VALUES (
        p_employee_id, p_business_id, p_period_type, p_start_date, p_end_date,
        v_tasks_completed, v_average_rating, v_total_rating, v_tasks_rated, v_performance_score, NOW()
    )
    ON CONFLICT (employee_id, business_id, period_type, period_start)
    DO UPDATE SET
        tasks_completed = EXCLUDED.tasks_completed,
        average_rating = EXCLUDED.average_rating,
        total_rating = EXCLUDED.total_rating,
        tasks_rated = EXCLUDED.tasks_rated,
        performance_score = EXCLUDED.performance_score,
        last_calculated = NOW();
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- 8. Trigger to auto-rate completed tasks (if enabled)</code></pre></div><div class="py-4"><p class="text-gray-600">database_schema.sql (Line 164:1 - Line 204:7), run_database_setup.sql (Line 159:1 - Line 199:5)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn114" onclick="toggleCodeBlock('cloneGroup114', 'expandBtn114', 'collapseBtn114')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup114"><code class="language-sql text-sm text-gray-800">CREATE OR REPLACE FUNCTION auto_rate_completed_task()
RETURNS TRIGGER AS $$
DECLARE
    v_business_id UUID;
    v_default_rating INTEGER;
    v_auto_rate_enabled BOOLEAN;
BEGIN
    -- Only trigger on task completion
    IF NEW.completed = true AND OLD.completed = false THEN
        -- Get business ID and settings
        SELECT t.business_id, ps.auto_rate_completed_tasks, ps.default_rating
        INTO v_business_id, v_auto_rate_enabled, v_default_rating
        FROM tasks t
        LEFT JOIN performance_settings ps ON ps.business_id = t.business_id
        WHERE t.id = NEW.id;

        -- Auto-rate if enabled
        IF v_auto_rate_enabled = true THEN
            INSERT INTO task_ratings (task_id, employee_id, admin_id, rating, business_id)
            SELECT 
                NEW.id,
                e.id,
                u.id,
                v_default_rating,
                v_business_id
            FROM employees e
            CROSS JOIN users u
            WHERE e.name = NEW.assigned_to
            AND e.business_id = v_business_id
            AND u.business_id = v_business_id
            AND u.role = 'admin'
            LIMIT 1;
        END IF;
    END IF;
    
    RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Create trigger
CREATE</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 37:2 - Line 42:2), database_fixes.sql (Line 31:7 - Line 35:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn115" onclick="toggleCodeBlock('cloneGroup115', 'expandBtn115', 'collapseBtn115')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup115"><code class="language-sql text-sm text-gray-800">) 
                FROM task_ratings tr 
                WHERE tr.employee_id = v_employee.id 
                AND tr.business_id = business_id_param
            ), 0)
        )</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 91:11 - Line 97:15), database_fixes.sql (Line 22:5 - Line 28:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn116" onclick="toggleCodeBlock('cloneGroup116', 'expandBtn116', 'collapseBtn116')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup116"><code class="language-sql text-sm text-gray-800">,
            'tasks_completed', COALESCE((
                SELECT COUNT(*) 
                FROM tasks t 
                WHERE t.assigned_to = v_employee.name 
                AND t.completed = true 
                AND t.completed_at::</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 98:17 - Line 104:11), database_fixes.sql (Line 28:17 - Line 34:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn117" onclick="toggleCodeBlock('cloneGroup117', 'expandBtn117', 'collapseBtn117')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup117"><code class="language-sql text-sm text-gray-800">AND t.business_id = business_id_param
            ), 0),
            'average_rating', COALESCE((
                SELECT AVG(tr.rating) 
                FROM task_ratings tr 
                WHERE tr.employee_id = v_employee.id 
                AND tr.rated_at::</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 105:17 - Line 111:11), database_fixes.sql (Line 34:17 - Line 40:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn118" onclick="toggleCodeBlock('cloneGroup118', 'expandBtn118', 'collapseBtn118')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup118"><code class="language-sql text-sm text-gray-800">AND tr.business_id = business_id_param
            ), 0),
            'tasks_rated', COALESCE((
                SELECT COUNT(*) 
                FROM task_ratings tr 
                WHERE tr.employee_id = v_employee.id 
                AND tr.rated_at::</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 108:2 - Line 114:2), database_fixes.sql (Line 101:7 - Line 106:2)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn119" onclick="toggleCodeBlock('cloneGroup119', 'expandBtn119', 'collapseBtn119')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup119"><code class="language-sql text-sm text-gray-800">) 
                FROM task_ratings tr 
                WHERE tr.employee_id = v_employee.id 
                AND tr.rated_at::date BETWEEN v_start_date AND v_end_date
                AND tr.business_id = business_id_param
            ), 0)
        )</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 112:17 - Line 123:76), database_fixes.sql (Line 40:17 - Line 51:68)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn120" onclick="toggleCodeBlock('cloneGroup120', 'expandBtn120', 'collapseBtn120')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup120"><code class="language-sql text-sm text-gray-800">AND tr.business_id = business_id_param
            ), 0)
        ) INTO v_result;
        
        v_metrics := array_append(v_metrics, v_result);
    END LOOP;
    
    RETURN json_build_object('employees', v_metrics);
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Fix 3: Add missing RPC function for getting employee performance summary</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 342:5 - Line 351:11), database_fixes.sql (Line 146:5 - Line 155:12)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn121" onclick="toggleCodeBlock('cloneGroup121', 'expandBtn121', 'collapseBtn121')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup121"><code class="language-sql text-sm text-gray-800">FROM employees e
    LEFT JOIN (
        SELECT 
            assigned_to,
            COUNT(*) as total_tasks,
            COUNT(*) FILTER (WHERE completed = true) as completed_tasks
        FROM tasks 
        WHERE business_id = business_id_param
        GROUP BY assigned_to
    ) task_stats</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 351:11 - Line 361:6), database_fixes.sql (Line 155:12 - Line 165:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn122" onclick="toggleCodeBlock('cloneGroup122', 'expandBtn122', 'collapseBtn122')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup122"><code class="language-sql text-sm text-gray-800">.assigned_to = e.name
    LEFT JOIN (
        SELECT 
            employee_id,
            AVG(rating) as average_rating
        FROM task_ratings 
        WHERE business_id = business_id_param
        GROUP BY employee_id
    ) rating_stats ON rating_stats.employee_id = e.id
    WHERE e.business_id = business_id_param
    GROUP</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 378:9 - Line 392:7), database_fixes.sql (Line 65:9 - Line 79:46)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn123" onclick="toggleCodeBlock('cloneGroup123', 'expandBtn123', 'collapseBtn123')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup123"><code class="language-sql text-sm text-gray-800">WHEN 'day' THEN
            v_start_date := CURRENT_DATE;
            v_end_date := CURRENT_DATE;
        WHEN 'week' THEN
            v_start_date := CURRENT_DATE - INTERVAL '6 days';
            v_end_date := CURRENT_DATE;
        WHEN 'month' THEN
            v_start_date := DATE_TRUNC('month', CURRENT_DATE);
            v_end_date := CURRENT_DATE;
        ELSE
            v_start_date := CURRENT_DATE;
            v_end_date := CURRENT_DATE;
    END CASE;
    
    SELECT</code></pre></div><div class="py-4"><p class="text-gray-600">database_fixes.sql (Line 421:17 - Line 429:4), database_fixes.sql (Line 154:9 - Line 162:6)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn124" onclick="toggleCodeBlock('cloneGroup124', 'expandBtn124', 'collapseBtn124')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup124"><code class="language-sql text-sm text-gray-800">GROUP BY assigned_to
            ) task_counts ON task_counts.assigned_to = e.name
            LEFT JOIN (
                SELECT 
                    employee_id,
                    AVG(rating) as average_rating
                FROM task_ratings 
                WHERE business_id = business_id_param
                AND</code></pre></div><div class="py-4"><p class="text-gray-600">database_analysis.sql (Line 118:17 - Line 123:6), database_analysis.sql (Line 57:14 - Line 62:4)</p><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2" id="expandBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Show code</button><button class="bg-gray-500 text-white px-1 py-0.5 text-xs rounded focus:outline-none ml-2 hidden" id="collapseBtn125" onclick="toggleCodeBlock('cloneGroup125', 'expandBtn125', 'collapseBtn125')">Hide code</button><pre class="bg-gray-100 border border-gray-200 p-4 rounded mt-2 hidden" id="cloneGroup125"><code class="language-sql text-sm text-gray-800">,
    pg_get_functiondef(p.oid) as function_definition
FROM pg_proc p
JOIN pg_namespace n ON p.pronamespace = n.oid
WHERE n.nspname = 'public'
ORDER</code></pre></div><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div><a name="markdown-clones"></a><h2 class="text-2xl font-semibold text-gray-700 mb-4">markdown</h2><div class="divide-y divide-gray-200 border-b-2"><!-- Add more clone groups for .txt format as needed         // Add more clone groups for .txt format as needed--></div></section><!-- Add more sections for other formats and clone groups as needed--></main><footer class="bg-white shadow mt-8 py-4"><div class="container mx-auto px-4 text-center"><p class="text-sm text-gray-600">This report is generated by jscpd, an open-source copy/paste detector.</p><p class="text-sm text-gray-600">jscpd is licensed under the MIT License.</p><a class="text-blue-500 text-sm" href="https://github.com/kucherenko/jscpd" target="_blank" rel="noopener noreferrer">View jscpd on GitHub</a></div></footer><script src="js/prism.js"></script><script>function toggleCodeBlock(codeBlockId, expandBtnId, collapseBtnId) {
  const codeBlock = document.getElementById(codeBlockId);
  const expandBtn = document.getElementById(expandBtnId);
  const collapseBtn = document.getElementById(collapseBtnId);

  codeBlock.classList.toggle('hidden');
  expandBtn.classList.toggle('hidden');
  collapseBtn.classList.toggle('hidden');
}</script></body></html>